# ============================================================================
# S3/MinIO Storage Gateway - Environment Configuration
# ============================================================================
# Copy this file to .env and configure with your actual values
# DO NOT commit .env file to version control!
# ============================================================================

# ============================================================================
# Application Configuration
# ============================================================================
SPRING_PROFILES_ACTIVE=production
SERVER_PORT=8080

# ============================================================================
# External S3/MinIO Configuration
# ============================================================================
# Provider: 's3' for AWS S3, 'minio' for MinIO
STORAGE_PROVIDER=s3

# AWS Region (required for S3, optional for MinIO)
STORAGE_REGION=us-east-1

# Endpoint URL (required for MinIO, optional for S3)
# Examples:
#   MinIO: http://your-minio-server:9000
#   AWS S3: leave empty for default AWS endpoints
#   DigitalOcean Spaces: https://nyc3.digitaloceanspaces.com
STORAGE_ENDPOINT_URL=

# Access Credentials
STORAGE_ACCESS_KEY=your-access-key-here
STORAGE_SECRET_KEY=your-secret-key-here

# Path Style Access (true for MinIO, false for S3)
STORAGE_PATH_STYLE_ACCESS=false

# ============================================================================
# Multi-Tenancy Configuration
# ============================================================================
# Bucket Strategy: SHARED_WITH_PREFIX, PER_CLIENT, or PER_CLIENT_PER_ENVIRONMENT
STORAGE_BUCKET_STRATEGY=SHARED_WITH_PREFIX

# Shared bucket name (for SHARED_WITH_PREFIX strategy)
STORAGE_SHARED_BUCKET=shared-storage

# Bucket suffix (for PER_CLIENT and PER_CLIENT_PER_ENVIRONMENT strategies)
STORAGE_BUCKET_SUFFIX=storage

# Auto-create buckets if they don't exist
STORAGE_AUTO_CREATE_BUCKETS=true

# Duplicate file handling: UUID_SUFFIX, TIMESTAMP_SUFFIX, VERSION, OVERWRITE, REJECT
STORAGE_DUPLICATE_FILE_STRATEGY=UUID_SUFFIX

# ============================================================================
# Security Configuration
# ============================================================================
# Enable multi-tenancy features
STORAGE_MULTI_TENANCY_ENABLED=true

# Require API key for upload/delete operations
STORAGE_REQUIRE_API_KEY=true

# Enforce storage quotas
STORAGE_ENFORCE_QUOTA=true

# Maximum file size in MB
STORAGE_MAX_FILE_SIZE_MB=10

# ============================================================================
# Database Configuration (if using database for clients)
# ============================================================================
# Uncomment and configure if using PostgreSQL/MySQL
# SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/storage_db
# SPRING_DATASOURCE_USERNAME=storage_user
# SPRING_DATASOURCE_PASSWORD=storage_password

# ============================================================================
# Monitoring & Logging
# ============================================================================
# Logging level
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_APP=DEBUG

# ============================================================================
# JVM Configuration
# ============================================================================
JAVA_OPTS=-Xmx512m -Xms256m
